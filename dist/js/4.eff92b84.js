(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{305:function(e,t,n){"use strict";var r,o,i,a,c,l=n(1),s=n(91),u=n(301);function f(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,c,"next",e)}function c(e){f(i,r,o,a,c,"throw",e)}a(void 0)})}}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,t,i),i=null),i}var d=new(r=l.action.bound,o=l.action.bound,i=l.action.bound,a=l.action.bound,p((c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.fetch=new u.a}return function(e,t,n){t&&m(e.prototype,t),n&&m(e,n)}(e,[{key:"SelectItem",value:function(){var e=h(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.a.currentItem=t;case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"UpdateCard",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch.GetCardByCardNum(s.a.currentItem.cardNumber);case 2:return t=e.sent,n=s.a.ComBine.map(function(e){return e.cardNumber}).indexOf(t.cardNumber),e.next=6,Object.assign(s.a.ComBine[n],t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"combine",value:function(){var e=h(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],Array.prototype.forEach.call(s.a.Product,function(e,n){var r=s.a.GiftCard.filter(function(t){return e.itemCode==t.itemCode});if(1==r.length||2==r.length){var o=Object.assign({},e),i=Object.assign({},r[0]),a=Object.assign(o,i,{pdcode:n});t.push(a)}}),n=s.a.GiftCard.filter(function(e){return null!==e.parentCard}),Array.prototype.forEach.call(n,function(e){var n=t.filter(function(t){return t.cardNumber==e.parentCard});void 0!==n[0]&&(void 0==n[0].childCards?Object.assign(n[0],{childCards:[e]}):n[0].childCards=n[0].childCards.concat([e]))}),s.a.ComBine=t,e.abrupt("return",!0);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Sort",value:function(){var e=h(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.ComBine.sort(function(e,n){return n[t]-e[t]});case 2:n=e.sent,s.a.ComBine=n;case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}()).prototype,"SelectItem",[r],Object.getOwnPropertyDescriptor(c.prototype,"SelectItem"),c.prototype),p(c.prototype,"UpdateCard",[o],Object.getOwnPropertyDescriptor(c.prototype,"UpdateCard"),c.prototype),p(c.prototype,"combine",[i],Object.getOwnPropertyDescriptor(c.prototype,"combine"),c.prototype),p(c.prototype,"Sort",[a],Object.getOwnPropertyDescriptor(c.prototype,"Sort"),c.prototype),c);t.a=d},318:function(e,t,n){(e.exports=n(90)(!1)).push([e.i,".Mycard {\n  width: 80%;\n  height: 100%;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: 160px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: flex-end;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  top: auto;\n  left: auto;\n  bottom: auto;\n  right: auto;\n  flex: 0 0 100%;\n  border-radius: 10px;\n  text-shadow: -1px 0 #FFF, 0 1px #FFF, 1px 0 #FFF, 0 -1px #FFF;\n  font-family: Helvetica;\n  font-style: normal;\n  margin: 0 2.855%;\n  z-index: 2;\n  overflow: hidden; }\n  .Mycard img {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    z-index: 0; }\n  .Mycard .MycardDetail {\n    width: 100%;\n    height: 29.375%;\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    -webkit-overflow-scrolling: touch;\n    position: relative;\n    top: auto;\n    left: auto;\n    bottom: auto;\n    right: auto;\n    z-index: 1;\n    margin-bottom: 5%; }\n    .Mycard .MycardDetail .BalanceDetail {\n      flex: 0 0 48.21429%;\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap; }\n      .Mycard .MycardDetail .BalanceDetail .CardBalanceTitle {\n        flex: 0 0 100%;\n        font-size: 1.1rem; }\n      .Mycard .MycardDetail .BalanceDetail .CardBalanceCurrency {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        align-items: center;\n        -webkit-overflow-scrolling: touch;\n        font-size: 1.25rem;\n        flex: 0 0 10%;\n        white-space: nowrap; }\n      .Mycard .MycardDetail .BalanceDetail .CardBalance {\n        flex: 0 0 70%;\n        font-size: 2rem; }\n    .Mycard .MycardDetail .CountDetail {\n      flex: 0 0 28.57143%;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      -webkit-overflow-scrolling: touch; }\n      .Mycard .MycardDetail .CountDetail .CardCountTitle {\n        font-size: 1.1rem;\n        flex: 0 0 10%;\n        margin-bottom: 5px; }\n      .Mycard .MycardDetail .CountDetail .CardCountPercent {\n        font-size: 2rem;\n        flex: 0 0 90%; }\n  .Mycard .CardBalanceTitle {\n    margin-bottom: 5px; }\n\n.Mycard:nth-child(1) {\n  margin-left: 0; }\n",""])},319:function(e,t,n){var r=n(318);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,o);r.locals&&(e.exports=r.locals)},320:function(e,t,n){"use strict";var r,o=n(7),i=n.n(o),a=n(88),c=n(19),l=(n(319),n(305)),s=n(301);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=Object(a.inject)("datastore")(r=Object(a.observer)(r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=m(this,p(t).call(this,e))).fetch=new s.a,n.cards=n.props.datastore.cards,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,i.a.Component),function(e,t,n){t&&h(e.prototype,t),n&&h(e,n)}(t,[{key:"componentDidMount",value:function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,c,"next",e)}function c(e){f(i,r,o,a,c,"throw",e)}a(void 0)})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!=this.props.datas.BonusRate){e.next=5;break}return e.next=3,this.fetch.GetBounsRate(this.props.datas.itemCode);case 3:void 0==(t=e.sent).events[0]?this.cards.ComBine[this.props.num].BonusRate=0:this.cards.ComBine[this.props.num].BonusRate=t.events[0].bonusRate;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"SelectItem",value:function(){l.a.SelectItem(this.props.datas),this.props.history.push("/Detail")}},{key:"render",value:function(){return i.a.createElement("div",{className:"Mycard",onClick:this.SelectItem.bind(this)},i.a.createElement("img",{src:this.props.datas.imageUrl,alt:""}),i.a.createElement("div",{className:"MycardDetail"},i.a.createElement("div",{className:"BalanceDetail"},i.a.createElement("div",{className:"CardBalanceTitle"},"Balance"),i.a.createElement("div",{className:"CardBalanceCurrency"},"$"),i.a.createElement("div",{className:"CardBalance"},new Intl.NumberFormat("en-US").format(this.props.datas.balance))),i.a.createElement("div",{className:"CountDetail"},i.a.createElement("div",{className:"CardCountTitle"},"Discount"),i.a.createElement("div",{className:"CardCountPercent"},"".concat(parseInt(this.props.datas.BonusRate),"%")))))}}]),t}())||r)||r;t.a=Object(c.withRouter)(y)},331:function(e,t,n){(e.exports=n(90)(!1)).push([e.i,".CardDetailContainer {\n  width: 100%;\n  height: 100vh;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  top: auto;\n  left: auto;\n  bottom: auto;\n  right: auto;\n  background: #F8F8F8; }\n  .CardDetailContainer .TopUp {\n    width: 100%;\n    height: 50px;\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    -webkit-overflow-scrolling: touch;\n    position: absolute;\n    top: false;\n    left: 0;\n    bottom: 0;\n    right: false;\n    z-index: 3;\n    background: #00C43e;\n    font-size: 1.4rem;\n    font-weight: bold;\n    color: #FFf; }\n  .CardDetailContainer .DetailScroll {\n    width: 100%;\n    height: calc(100vh - 50px);\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch; }\n    .CardDetailContainer .DetailScroll .CardItem {\n      width: 280px;\n      height: false;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      -webkit-overflow-scrolling: touch;\n      margin: 0 auto;\n      margin-top: 24px; }\n    .CardDetailContainer .DetailScroll .BarCord {\n      width: 100%;\n      height: 100px;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      -webkit-overflow-scrolling: touch;\n      margin-top: 24px;\n      text-align: center; }\n      .CardDetailContainer .DetailScroll .BarCord .reload {\n        font-size: 1.15rem;\n        text-decoration: underline; }\n      .CardDetailContainer .DetailScroll .BarCord img {\n        width: 70%;\n        height: 80%;\n        max-width: false;\n        max-height: false;\n        min-width: false;\n        min-height: false;\n        object-fit: cover; }\n      .CardDetailContainer .DetailScroll .BarCord p {\n        font-size: 1.667rem;\n        margin-top: 1%; }\n    .CardDetailContainer .DetailScroll .Timer {\n      font-size: 1.3333rem;\n      font-weight: bold;\n      color: #00C43e;\n      text-align: center;\n      margin-top: 18px; }\n    .CardDetailContainer .DetailScroll .CardinfoBox {\n      width: 100%;\n      height: false;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: center;\n      -webkit-overflow-scrolling: touch;\n      margin-top: 24px; }\n      .CardDetailContainer .DetailScroll .CardinfoBox .infoType {\n        width: 100%;\n        height: 32px;\n        max-width: false;\n        max-height: false;\n        min-width: false;\n        min-height: false;\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        align-items: center;\n        -webkit-overflow-scrolling: touch; }\n        .CardDetailContainer .DetailScroll .CardinfoBox .infoType .infoBtn {\n          width: 124px;\n          height: 100%;\n          max-width: false;\n          max-height: false;\n          min-width: false;\n          min-height: false;\n          display: flex;\n          flex-direction: row;\n          justify-content: center;\n          align-items: center;\n          -webkit-overflow-scrolling: touch;\n          font-size: 1rem;\n          color: #444;\n          margin-right: 2px;\n          border-radius: 5px;\n          background: transparent; }\n        .CardDetailContainer .DetailScroll .CardinfoBox .infoType .infoNonActive {\n          background: #e0e0e0;\n          border-bottom: 1px solid #cacaca; }\n      .CardDetailContainer .DetailScroll .CardinfoBox .infoContent {\n        width: 100%;\n        height: 100%;\n        max-width: false;\n        max-height: false;\n        min-width: false;\n        min-height: false;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        -webkit-overflow-scrolling: touch;\n        margin-bottom: 50px;\n        background: #FFF; }\n        .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .ContentText {\n          width: 92%;\n          height: 100%;\n          max-width: false;\n          max-height: false;\n          min-width: false;\n          min-height: false;\n          margin: 32px 0; }\n        .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent {\n          width: 100%;\n          height: 100%;\n          max-width: false;\n          max-height: false;\n          min-width: false;\n          min-height: false;\n          padding: 32px 0;\n          overflow-x: hidden; }\n          .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistorySortBox {\n            width: 100%;\n            height: 96px;\n            max-width: false;\n            max-height: false;\n            min-width: false;\n            min-height: false;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            align-items: center;\n            -webkit-overflow-scrolling: touch; }\n            .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistorySortBox .SortBox {\n              width: 85%;\n              height: 44px;\n              max-width: false;\n              max-height: false;\n              min-width: false;\n              min-height: false;\n              display: flex;\n              flex-direction: row;\n              justify-content: center;\n              align-items: center;\n              -webkit-overflow-scrolling: touch;\n              position: relative;\n              top: auto;\n              left: auto;\n              bottom: auto;\n              right: auto;\n              border: 1px solid #999999;\n              border-radius: 10px;\n              box-sizing: border-box; }\n              .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistorySortBox .SortBox .selectValue {\n                position: relative;\n                top: auto;\n                left: auto;\n                bottom: auto;\n                right: auto;\n                display: flex;\n                flex-direction: row;\n                justify-content: center;\n                align-items: center;\n                -webkit-overflow-scrolling: touch;\n                z-index: 1;\n                width: 60%;\n                border: none;\n                height: 100%;\n                font-size: 1.1666rem;\n                font-weight: bold;\n                text-align-last: center;\n                text-align: center;\n                -ms-text-align-last: center;\n                -moz-text-align-last: center; }\n              .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistorySortBox .SortBox select {\n                position: absolute;\n                top: auto;\n                left: auto;\n                bottom: auto;\n                right: auto;\n                z-index: 2;\n                width: 90%;\n                border: none;\n                height: 100%;\n                color: transparent; }\n              .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistorySortBox .SortBox select:after {\n                content: '';\n                width: 100%;\n                display: inline-block; }\n              .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistorySortBox .SortBox select:focus {\n                outline: none; }\n          .CardDetailContainer .DetailScroll .CardinfoBox .infoContent .HistoryContent .HistoryList {\n            width: 100%;\n            height: 100%;\n            max-width: false;\n            max-height: false;\n            min-width: false;\n            min-height: false;\n            display: flex;\n            flex-direction: column;\n            justify-content: flex-start;\n            align-items: center;\n            -webkit-overflow-scrolling: touch;\n            margin-top: 16px; }\n",""])},332:function(e,t,n){var r=n(331);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,o);r.locals&&(e.exports=r.locals)},348:function(e,t,n){(e.exports=n(90)(!1)).push([e.i,".HistoryItem {\n  width: 100%;\n  height: 84px;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  -webkit-overflow-scrolling: touch;\n  border-top: 1px solid #999999; }\n  .HistoryItem .HistoryItemContent {\n    width: 85%;\n    height: 100%;\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    -webkit-overflow-scrolling: touch;\n    font-size: 1rem; }\n    .HistoryItem .HistoryItemContent .HistoryDetail {\n      width: 60%;\n      height: 100%;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: flex-start;\n      -webkit-overflow-scrolling: touch;\n      flex: 0 0 60%;\n      box-sizing: border-box;\n      padding: 16px 0;\n      margin-right: 0.025%; }\n      .HistoryItem .HistoryItemContent .HistoryDetail .store,\n      .HistoryItem .HistoryItemContent .HistoryDetail .transationDate {\n        color: #888888; }\n      .HistoryItem .HistoryItemContent .HistoryDetail .transationAmount {\n        font-weight: bold;\n        color: #444444; }\n    .HistoryItem .HistoryItemContent .HistoryState {\n      width: auto;\n      height: 100%;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: column;\n      justify-content: flex-start;\n      align-items: flex-end;\n      -webkit-overflow-scrolling: touch;\n      flex: 1;\n      box-sizing: border-box;\n      padding: 16px 0;\n      white-space: nowrap; }\n      .HistoryItem .HistoryItemContent .HistoryState .transationNum {\n        color: #888888; }\n      .HistoryItem .HistoryItemContent .HistoryState .transationState {\n        font-weight: bold;\n        color: #00C43e;\n        margin-top: 8px; }\n\n.HistoryItem:nth-last-child(1) {\n  border-bottom: 1px solid #999999; }\n",""])},349:function(e,t,n){var r=n(348);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,o);r.locals&&(e.exports=r.locals)},350:function(e,t,n){(e.exports=n(90)(!1)).push([e.i,'.DatePickerContainer {\n  width: 100vw;\n  height: 100vh;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: auto;\n  right: auto;\n  z-index: -1; }\n  .DatePickerContainer .coverbg {\n    transform: translateX(-100%);\n    position: absolute;\n    z-index: -1;\n    top: 0;\n    width: 100%;\n    height: 100vh;\n    opacity: 0;\n    background: black; }\n  .DatePickerContainer .DatePickerContent {\n    width: 320px;\n    height: false;\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    bottom: auto;\n    right: auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    -webkit-overflow-scrolling: touch;\n    transform: translateX(-120%);\n    margin-top: -25%;\n    margin-left: -168px;\n    padding: 24px 8px 8px 8px;\n    background: #FFF;\n    border-radius: 5px; }\n    .DatePickerContainer .DatePickerContent .PickerText {\n      width: 100%;\n      height: false;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: row;\n      justify-content: center;\n      align-items: center;\n      -webkit-overflow-scrolling: touch;\n      font-size: 1.4rem;\n      font-weight: bold; }\n    .DatePickerContainer .DatePickerContent .DateArea {\n      width: 100%;\n      height: 44px;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-around;\n      align-items: center;\n      -webkit-overflow-scrolling: touch;\n      margin: 24px 0; }\n      .DatePickerContainer .DatePickerContent .DateArea input {\n        width: 148px;\n        height: 100%;\n        max-width: false;\n        max-height: false;\n        min-width: false;\n        min-height: false;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        -webkit-overflow-scrolling: touch;\n        flex: 0 0 148px;\n        font-size: 1.166666rem;\n        color: #444444;\n        text-align: center;\n        text-align: -webkit-center;\n        text-align-last: -webkit-center;\n        text-align-last: center;\n        border: 1px #DDD solid;\n        box-sizing: border-box;\n        -webkit-appearance: none !important; }\n      .DatePickerContainer .DatePickerContent .DateArea input[type="date"]::-webkit-inner-spin-button,\n      .DatePickerContainer .DatePickerContent .DateArea input[type="date"]::-webkit-outer-spin-button,\n      .DatePickerContainer .DatePickerContent .DateArea input[type="date"]::-webkit-calendar-picker-indicator,\n      .DatePickerContainer .DatePickerContent .DateArea input[type="date"]::-webkit-clear-button {\n        width: 0 !important;\n        padding: 0 !important;\n        margin: 0 !important;\n        display: inline-block !important;\n        -webkit-appearance: none !important; }\n    .DatePickerContainer .DatePickerContent .DateBtns {\n      width: 100%;\n      height: 44px;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-around;\n      align-items: center;\n      -webkit-overflow-scrolling: touch;\n      margin-bottom: 8px; }\n      .DatePickerContainer .DatePickerContent .DateBtns .Btn {\n        width: 148px;\n        height: 100%;\n        max-width: false;\n        max-height: false;\n        min-width: false;\n        min-height: false;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        -webkit-overflow-scrolling: touch;\n        flex: 0 0 148px;\n        font-size: 1.166666rem;\n        color: #FFF;\n        text-align: center;\n        text-align: -webkit-center;\n        text-align-last: -webkit-center;\n        text-align-last: center; }\n      .DatePickerContainer .DatePickerContent .DateBtns .cancel {\n        background: #888888; }\n      .DatePickerContainer .DatePickerContent .DateBtns .confirm {\n        background: #00C43e; }\n',""])},351:function(e,t,n){var r=n(350);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,o);r.locals&&(e.exports=r.locals)},352:function(e,t,n){(e.exports=n(90)(!1)).push([e.i,".AlertContainer {\n  width: 100vw;\n  height: 100vh;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: auto;\n  right: auto;\n  z-index: -1; }\n  .AlertContainer .coverbg {\n    transform: translateX(-100%);\n    position: absolute;\n    z-index: -1;\n    top: 0;\n    width: 100%;\n    height: 100vh;\n    opacity: 0;\n    background: black; }\n  .AlertContainer .AlertContent {\n    width: 320px;\n    height: false;\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    bottom: auto;\n    right: auto;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    -webkit-overflow-scrolling: touch;\n    transform: translateX(-120%);\n    margin-top: -25%;\n    margin-left: -168px;\n    padding: 24px 8px 8px 8px;\n    background: #FFF;\n    border-radius: 5px; }\n    .AlertContainer .AlertContent .text {\n      width: 90%;\n      height: false;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      margin-bottom: 24px;\n      font-size: 1.166666rem;\n      line-height: 1.9rem;\n      text-align: center; }\n    .AlertContainer .AlertContent .AlertBtns {\n      width: 100%;\n      height: 47%;\n      max-width: false;\n      max-height: false;\n      min-width: false;\n      min-height: false;\n      display: flex;\n      flex-direction: row;\n      justify-content: space-around;\n      align-items: flex-end;\n      -webkit-overflow-scrolling: touch;\n      flex: 0 0 47%;\n      font-size: 1.333333rem; }\n      .AlertContainer .AlertContent .AlertBtns .Btn {\n        width: 148px;\n        height: 44px;\n        max-width: false;\n        max-height: false;\n        min-width: false;\n        min-height: false;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        -webkit-overflow-scrolling: touch;\n        flex: 0 0 48%;\n        color: #FFF;\n        margin-bottom: 1.5%;\n        box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\n        border-radius: 3px; }\n      .AlertContainer .AlertContent .AlertBtns .cancel {\n        background: #888888; }\n      .AlertContainer .AlertContent .AlertBtns .confirm {\n        background: #00C43e; }\n",""])},353:function(e,t,n){var r=n(352);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,o);r.locals&&(e.exports=r.locals)},354:function(e,t,n){(e.exports=n(90)(!1)).push([e.i,".TextContainer {\n  width: 87.46667%;\n  height: 24px;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  -webkit-overflow-scrolling: touch;\n  position: relative;\n  top: auto;\n  left: auto;\n  bottom: auto;\n  right: auto;\n  margin: 0 auto;\n  margin-top: 24px; }\n  .TextContainer .TextTitle {\n    width: 280px;\n    height: 24px;\n    max-width: false;\n    max-height: false;\n    min-width: false;\n    min-height: false;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    -webkit-overflow-scrolling: touch;\n    font-size: 1rem;\n    font-weight: bold;\n    color: #444; }\n\n.TextIconAfter {\n  width: 24px;\n  height: 24px;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  background: url(/images/ogloba/icons/ico_24_star_transparent.png) 0 0 no-repeat;\n  background-size: contain;\n  z-index: 3;\n  margin-right: 8px; }\n\n.TextIconBefore {\n  width: 24px;\n  height: 24px;\n  max-width: false;\n  max-height: false;\n  min-width: false;\n  min-height: false;\n  margin-left: 8px;\n  background: url(/images/ogloba/icons/ico_24_home.png) 0 0 no-repeat;\n  background-size: contain;\n  z-index: 3; }\n",""])},355:function(e,t,n){var r=n(354);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(89)(r,o);r.locals&&(e.exports=r.locals)},412:function(e,t,n){"use strict";n.r(t);var r,o=n(7),i=n.n(o),a=n(88),c=n(303),l=n(19),s=n(62),u=n(390),f=n.n(u),h=n(320),m=(n(355),n(306));function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v,x=Object(a.inject)("store","datastore")(r=Object(a.observer)(r=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=y(this,g(t).call(this,e))).cards=n.props.datastore.cards,n.fvItem=n.props.datastore.favorite,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,i.a.Component),function(e,t,n){t&&d(e.prototype,t),n&&d(e,n)}(t,[{key:"Back",value:function(){m.a.Pre(this.props)}},{key:"favorite",value:function(){this.cards.currentItem.favorite=!this.cards.currentItem.favorite}},{key:"componentWillUnmount",value:function(){if(0==this.fvItem.favoritelocal.length){if(this.cards.currentItem.favorite){var e=[];e.push({itemcode:this.cards.currentItem.itemCode,pdcode:this.cards.currentItem.pdcode}),localStorage.setItem("FavoriteSlide",JSON.stringify(e))}}else{var t=this.fvItem.favoritelocal.map(function(e){return e.itemcode}).indexOf(this.cards.currentItem.itemCode);-1==t&&this.cards.currentItem.favorite?(this.fvItem.favoritelocal.push({itemcode:this.cards.currentItem.itemCode,pdcode:this.cards.currentItem.pdcode}),localStorage.setItem("FavoriteSlide",JSON.stringify(this.fvItem.favoritelocal))):-1!==t&&0==this.cards.currentItem.favorite&&(console.log(t),this.fvItem.favoritelocal.splice(t,1),localStorage.setItem("FavoriteSlide",JSON.stringify(this.fvItem.favoritelocal)))}}},{key:"render",value:function(){console.log(this.cards.currentItem.favorite);var e={};return this.cards.currentItem.favorite&&(e={background:"url(/images/ogloba/icons/ico_24_star_yellow.png) 0 0 no-repeat"}),i.a.createElement("div",{className:"TextContainer"},i.a.createElement("div",{className:"TextIconBefore",onClick:this.Back.bind(this)}),i.a.createElement("div",{className:"TextTitle"},this.cards.currentItem.name),i.a.createElement("div",{className:"TextIconAfter",style:e,onClick:this.favorite.bind(this)}))}}]),t}())||r)||r,w=Object(l.withRouter)(x);n(353);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){k(i,r,o,a,c,"next",e)}function c(e){k(i,r,o,a,c,"throw",e)}a(void 0)})}}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P,I=Object(a.inject)("store","datastore")(v=Object(a.observer)(v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=O(this,S(t).call(this,e))).alert=n.props.store.alert,n.wrong=new c.a,n.cards=n.props.datastore.cards,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,i.a.Component),function(e,t,n){t&&j(e.prototype,t),n&&j(e,n)}(t,[{key:"componentDidMount",value:function(){this.wrong.pause().set("".concat(this.props.WrongPage),{zIndex:-1}).set(".AlertContainer",{zIndex:10}).set(".AlertContainer>.AlertContent",{x:"0%",zIndex:5}).set(".AlertContainer>.wrong_cover",{x:"0%",y:"-50",opacity:.5,zIndex:1})}},{key:"componentDidUpdate",value:function(){1==this.alert.IsAlert&&this.wrong.play()}},{key:"Cancel",value:function(){var e=D(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.wrong.reverse();case 2:this.alert.IsAlert=!1,m.a.Pre(this.props);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Confirm",value:function(){var e=D(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.wrong.reverse();case 2:return e.next=4,this.props.ConfirmAction(this.cards.currentItem.cardNumber);case 4:this.alert.IsAlert=!1;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"AlertContainer",value:this.alert.IsAlert},i.a.createElement("div",{className:"coverbg wrong_cover"}),i.a.createElement("div",{className:"AlertContent"},i.a.createElement("div",{className:"text"},this.props.AlertText),i.a.createElement("div",{className:"AlertBtns"},i.a.createElement("div",{className:"Btn cancel",onClick:this.Cancel.bind(this)},this.props.Cancel),i.a.createElement("div",{className:"Btn confirm",onClick:this.Confirm.bind(this)},this.props.Confirm))))}}]),t}())||v)||v,T=Object(l.withRouter)(I),B=n(92),N=n.n(B);n(351);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){R(i,r,o,a,c,"next",e)}function c(e){R(i,r,o,a,c,"throw",e)}a(void 0)})}}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var U,q=Object(a.inject)("store","datastore")(P=Object(a.observer)(P=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=z(this,F(t).call(this,e))).alert=n.props.store.alert,n.picker=new c.a,n.cards=n.props.datastore.cards,n.transaction=n.props.datastore.transaction,n.datepicker=n.props.store.datepicker,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,i.a.Component),function(e,t,n){t&&H(e.prototype,t),n&&H(e,n)}(t,[{key:"componentDidMount",value:function(){N()(),document.querySelector(".DatePickerContainer").addEventListener("touchmove",function(e){e.preventDefault()}),this.picker.pause().set("".concat(this.props.WrongPage),{zIndex:-1}).set(".DatePickerContainer",{zIndex:10}).set(".DatePickerContainer>.DatePickerContent",{x:"0%",zIndex:5}).set(".DatePickerContainer>.wrong_cover",{x:"0%",y:"-50",opacity:.5,zIndex:1})}},{key:"componentDidUpdate",value:function(){1==this.alert.DatePickerAlert&&this.picker.play()}},{key:"ChangeDate",value:function(e){console.log(e.target),this.datepicker[e.target.name]=new Date(e.target.value).getTime()}},{key:"confirm",value:function(){var e=A(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.picker.reverse();case 2:this.transaction.FromDate=this.datepicker.FromDate,this.transaction.ToDate=this.datepicker.ToDate,this.alert.DatePickerAlert=!1;case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Cancel",value:function(){var e=A(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.picker.reverse();case 2:this.alert.DatePickerAlert=!1;case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",{className:"DatePickerContainer",value:this.alert.DatePickerAlert},i.a.createElement("div",{className:"coverbg wrong_cover"}),i.a.createElement("div",{className:"DatePickerContent"},i.a.createElement("div",{className:"PickerText"},"Select Duration"),i.a.createElement("div",{className:"DateArea"},i.a.createElement("input",{max:this.transaction.formatDayTime(Date.now()),name:"FromDate",type:"date",value:this.transaction.formatDayTime(this.datepicker.FromDate),onChange:this.ChangeDate.bind(this)}),"~",i.a.createElement("input",{name:"ToDate",type:"date",value:this.transaction.formatDayTime(this.datepicker.ToDate),onChange:this.ChangeDate.bind(this)})),i.a.createElement("div",{className:"DateBtns"},i.a.createElement("div",{className:"Btn cancel",onClick:this.Cancel.bind(this)},"Cancel"),i.a.createElement("div",{className:"Btn confirm",onClick:this.confirm.bind(this)},"OK"))))}}]),t}())||P)||P,G=Object(l.withRouter)(q),L=n(311),X=n(301);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var K,Q=Object(a.inject)("datastore")(U=Object(a.observer)(U=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=J(this,V(t).call(this,e))).cards=n.props.datastore.cards,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$(e,t)}(t,i.a.Component),function(e,t,n){t&&Y(e.prototype,t),n&&Y(e,n)}(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"ContentText"},this.cards.currentItem.productInstructions)}}]),t}())||U)||U,Z=Object(l.withRouter)(Q),ee=n(305);n(349);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ae,ce=Object(a.inject)("datastore")(K=Object(a.observer)(K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=re(this,oe(t).call(this,e))).transaction=n.props.datastore.transaction,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,i.a.Component),function(e,t,n){t&&ne(e.prototype,t),n&&ne(e,n)}(t,[{key:"render",value:function(){var e=this,t=this.transaction.Type.filter(function(t){return t.value==e.props.type});return i.a.createElement("div",{className:"HistoryItem"},i.a.createElement("div",{className:"HistoryItemContent"},i.a.createElement("div",{className:"HistoryDetail"},i.a.createElement("div",{className:"store"},"LINE GIFT CARD"),i.a.createElement("div",{className:"transationAmount"},t[0].name," -5 $ US"),i.a.createElement("div",{className:"transationDate"},i.a.createElement(s.FormattedDate,{value:parseInt(this.props.time)}),"  ",i.a.createElement(s.FormattedTime,{value:parseInt(this.props.time)}))),i.a.createElement("div",{className:"HistoryState"},i.a.createElement("div",{className:"transationNum"},"Ref No.:123456880-"),i.a.createElement("div",{className:"transationState"},"CONFIRM"))))}}]),t}())||K)||K,le=Object(l.withRouter)(ce);n(347);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var pe,de=Object(a.inject)("store","datastore")(ae=Object(a.observer)(ae=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=fe(this,he(t).call(this,e))).cards=n.props.datastore.cards,n.alert=n.props.store.alert,n.transaction=n.props.datastore.transaction,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,i.a.Component),function(e,t,n){t&&ue(e.prototype,t),n&&ue(e,n)}(t,[{key:"selectMonth",value:function(e){if(99==e.target.value){var t=this.transaction.Time.filter(function(t){return t.value==e.target.value});this.transaction.month=t[0].name,this.alert.DatePickerAlert=!0}else{this.transaction.FromDate=Date.now(),this.transaction.ToDate=parseInt(e.target.value);var n=this.transaction.Time.filter(function(t){return t.value==e.target.value});this.transaction.month=n[0].name}}},{key:"selectType",value:function(e){this.transaction.filter=e.target.value}},{key:"render",value:function(){var e=this.transaction.filters.map(function(e){return i.a.createElement(le,{time:e.time,type:e.type})}),t=this.transaction.Type.map(function(e){return i.a.createElement("option",{value:e.value},e.name)}),n=this.transaction.Time.map(function(e){return i.a.createElement("option",{name:e.name,value:e.value},e.name)});return i.a.createElement("div",{className:"HistoryContent"},i.a.createElement("div",{className:"HistorySortBox"},i.a.createElement("div",{className:"SortBox SortByType"},i.a.createElement("span",{className:"selectValue"},this.transaction.SelectValue.name),i.a.createElement("select",{name:"",id:"",onChange:this.selectType.bind(this)},t)),i.a.createElement("div",{className:"SortBox SortByDate"},i.a.createElement("span",{className:"selectValue"},this.transaction.SelectTime.name),i.a.createElement("input",{type:"date",name:"",id:"sortDate",style:{display:"none"}}),i.a.createElement("select",{onChange:this.selectMonth.bind(this),id:""},n))),i.a.createElement("div",{className:"HistoryList"},e))}}]),t}())||ae)||ae,ye=Object(l.withRouter)(de);n(332);function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){be(i,r,o,a,c,"next",e)}function c(e){be(i,r,o,a,c,"throw",e)}a(void 0)})}}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function we(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var De=Object(a.inject)("store","datastore")(pe=Object(a.observer)(pe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=we(this,Ce(t).call(this,e))).touch=n.props.store.touch,n.trigger=n.props.store.trigger,n.transaction=n.props.datastore.transaction,n.cards=n.props.datastore.cards,n.fetch=new X.a,n.time=n.props.store.timer,n.alert=n.props.store.alert,n.timer,n.refresh,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,i.a.Component),function(e,t,n){t&&xe(e.prototype,t),n&&xe(e,n)}(t,[{key:"componentDidMount",value:function(){var e=ve(regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return L.b.Start("CardDetailContainer"),document.querySelector(".DetailScroll").addEventListener("touchmove",function(e){n.restoreEvent(e,"DetailScroll")},!1),e.next=4,this.fetch.GetCardOTP(this.cards.currentItem.cardNumber);case 4:return t="X"==this.cards.currentItem.token?this.cards.currentItem.otp:this.cards.currentItem.token,e.next=7,f()("#barcode",t,{format:"CODE128",displayValue:!1});case 7:return e.next=9,setInterval(function(){if(!0!==n.alert.IsAlert&&!0!==n.alert.TextRefresh)if(n.time.RefreshTime>0)n.time.RefreshTime--;else if(n.time.RefreshTime<=0)if("info"==n.trigger.DetailInfoTrigger)n.time.RefreshTime=300,n.alert.IsAlert=!0;else{var e=n;document.querySelector(".BarCord img").style.display="none",document.querySelector(".BarCord p").style.display="none";var t=document.createElement("p");t.classList.add("reload"),t.innerHTML="The barcode has expired, you will need to refresh here",t.onclick=ve(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("123"),t.next=3,e.fetch.GetCardOTP(e.cards.currentItem.cardNumber);case 3:document.querySelector(".BarCord img").style.display="flex",document.querySelector(".BarCord p").style.display="flex",document.querySelector(".reload").remove(),e.time.RefreshTime=300,e.alert.TextRefresh=!1;case 8:case"end":return t.stop()}},t,this)})),document.querySelector(".BarCord").appendChild(t),n.alert.TextRefresh=!0}},1e3);case 9:return this.timer=e.sent,e.next=12,setInterval(function(){n.time.ReFetch>0?n.time.ReFetch--:n.time.ReFetch<=0&&(n.time.ReFetch=10,ee.a.UpdateCard())},1e3);case 12:this.refresh=e.sent,L.b.Stop("CardDetailContainer");case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=ve(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.transaction.month="Any Time",this.transaction.filter="",this.time.RefreshTime=300,this.time.ReFetch=10,this.trigger.DetailInfoTrigger="info",e.next=7,ee.a.UpdateCard();case 7:clearInterval(this.refresh),clearInterval(this.timer);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"select",value:function(e){this.trigger.DetailInfoTrigger=e.target.id}},{key:"TopUp",value:function(){this.props.history.push("/Credite")}},{key:"restoreEvent",value:function(e,t){e.target;var n=document.querySelector(".".concat(t)),r=e.touches[0],o=n.scrollTop,i=n.scrollHeight-n.offsetHeight;0===o?r.clientY>this.touch.touch.y1?e.preventDefault():n.scrollHeight>n.clientHeight&&(console.log("move"),e.stopPropagation()):o===i?r.clientY<this.touch.touch.y1?(console.log("stop"),e.preventDefault()):e.stopPropagation():o>0&&o<i&&e.stopPropagation()}},{key:"touchstart",value:function(e){var t=e.changedTouches[0];this.touch.touch.x1=t.pageX,this.touch.touch.y1=t.pageY,this.touch.touchStartTime=Date.now()}},{key:"touchend",value:function(e){var t=e.changedTouches[0];this.touch.touch.y2=t.pageY,this.touch.touchEndTime=Date.now()}},{key:"touchmove",value:function(e){var t=e.changedTouches[0];this.touch.touch.y2=t.pageY}},{key:"render",value:function(){var e,t;return e="info"==this.trigger.DetailInfoTrigger?i.a.createElement(Z,null):i.a.createElement(ye,null),t="X"==this.cards.currentItem.token?this.cards.currentItem.otp:this.cards.currentItem.token,i.a.createElement("div",{className:"CardDetailContainer"},i.a.createElement(L.a,null),i.a.createElement(G,{WrongPage:"CardDetailContainer"}),i.a.createElement(T,{WrongPage:"CardDetailContainer",AlertText:"Your payment session has expired. Please tap the Refresh button to try again.",Cancel:"Cancel",Confirm:"Refresh",ConfirmAction:this.fetch.GetCardOTP}),i.a.createElement("div",{className:"TopUp",onClick:this.TopUp.bind(this)},"Top up"),i.a.createElement("div",{id:"DetailScroll",className:"DetailScroll",onTouchStart:this.touchstart.bind(this),onTouchMove:this.touchmove.bind(this),onTouchEnd:this.touchend.bind(this)},i.a.createElement(w,null),i.a.createElement("div",{className:"CardItem"},i.a.createElement(h.a,{datas:this.cards.currentItem})),i.a.createElement("div",{className:"BarCord"},i.a.createElement("img",{id:"barcode",src:"",alt:""}),i.a.createElement("p",{style:{pointerEvents:"none"}},t)),i.a.createElement("div",{className:"Timer"},this.time.GetMin),i.a.createElement("div",{className:"CardinfoBox"},i.a.createElement("div",{className:"infoType"},i.a.createElement("div",{className:"infoBtn ".concat("info"==this.trigger.DetailInfoTrigger?"":"infoNonActive"),id:"info",onClick:this.select.bind(this)},"Card's info"),i.a.createElement("div",{className:"infoBtn ".concat("history"==this.trigger.DetailInfoTrigger?"":"infoNonActive"),id:"history",onClick:this.select.bind(this)},"History")),i.a.createElement("div",{className:"infoContent"},e))))}}]),t}())||pe)||pe;t.default=Object(l.withRouter)(De)}}]);